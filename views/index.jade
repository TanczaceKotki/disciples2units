extends layout

block content
  .bg
  .jumbotron
    h1 Disciples II
    h2 Fractions - leaders - units - stats
  // Page Content
  nav.navbar.navbar-inverse.navbar-fixed-top(role='navigation')
    .container
      // Brand and toggle get grouped for better mobile display
      .navbar-header
        button.navbar-toggle(type='button', data-toggle='collapse', data-target='#bs-example-navbar-collapse-1')
          span.sr-only Toggle navigation
          span.icon-bar
          span.icon-bar
          span.icon-bar
        a.navbar-brand(href='/') Home
      // Collect the nav links, forms, and other content for toggling
      #bs-example-navbar-collapse-1.collapse.navbar-collapse
        ul.nav.navbar-nav
          each f in frac
            li
              a(href='/' + f.title + '')= f.title
          li
            a(href='/add-fraction')
              span.glyphicon.glyphicon-plus
      // /.navbar-collapse
    // /.container
  .fracList
    .page-header.text-center
      h1 Fractions
      h4 Click image to see details
      //  ------------
    //    TODO: make a variable which will change the colour of bg
    - var i = 0
    each f in frac
      .row(class="colorful"+i)
        .col-lg-1.col-md-1
        .col-lg-5.col-md-5
          a(href='/' + f.title + '').outerLink
            img.img-responsive(src='/images/start/' + f.city_img, onmouseout="this.style.opacity=0.6",
            onmouseover="this.style.opacity=1").darkableImage
        .col-lg-5.col-md-5
          h3= f.title
          p= f.description
        .col-lg-1.col-md-1
      - ++i
      - i %= 3
    a(data-toggle="modal" data-target="#myModal").btn.btn-primary.center-block
      span.glyphicon.glyphicon-plus
      | &nbsp;Add fraction
    // Modal
    #myModal.modal.fade(role='dialog')
      .modal-dialog
        // Modal content
        form(role='form' method='post' action='/add' id='form1' enctype='multipart/form-data').form-horizontal
          .modal-content
            .modal-header
              button.close(type='button', data-dismiss='modal') &times;
              h4.modal-title Add new fraction
            .modal-body
              .form-group
                label(for='title').control-label.col-sm-2 Title:
                .col-sm-10
                  input(type='text' name='title' id='title' required).form-control
              .form-group
                label(for='desc').control-label.col-sm-2 Description:
                .col-sm-10
                  textarea(type='text' name='desc' id='desc' required).form-control
              .form-group
                label(for='img').control-label.col-sm-2 City image:
                .col-sm-10
                  input(type='file' name='img' id='img' accept="image/*").form-control.file-loading
            .modal-footer
              button(type='submit' name='submit').btn.btn-default Submit
    // Footer
    footer
      .row
        .col-lg-12.text-center
          p Copyright &copy; Katarzyna Bigaj 2015
  // /.container